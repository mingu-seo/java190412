<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="pkg_dining">
    
    <typeAlias alias="pkg_dining_vo" type="pkg.dining.PkgDiningVO"/>
    
	<!-- 해당 테이블의 총 게시글 수 -->
	<select id="count" parameterClass="pkg_dining_vo" resultClass="Integer">
        select count(*) from pkg	
    </select>
    
	<select id="list" parameterClass="pkg_dining_vo" resultClass="pkg_dining_vo">
        select *
        from pkg
		ORDER BY regdate DESC LIMIT $startPageNo$, $pageRows$
    </select>  
    
	<!-- 해당 테이블에 게시글 작성 -->
    <insert id="insert" parameterClass="pkg_dining_vo">
        INSERT INTO pkg (
        	period, time_limit, set_name, set_contents, place, 
        	regdate
        ) VALUES (
        	#period#, #time_limit#, #set_name#, #set_contents#, #place#, 
        	now()
        )
        <selectKey keyProperty="no" resultClass="Integer">
        	SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>
    
</sqlMap>